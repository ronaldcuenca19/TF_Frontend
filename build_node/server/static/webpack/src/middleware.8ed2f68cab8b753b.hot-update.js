"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.js":
/*!***************************!*\
  !*** ./src/middleware.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-cookie */ \"(middleware)/./node_modules/js-cookie/dist/js.cookie.mjs\");\n\n\nasync function middleware(req) {\n    let token = req.cookies.get(\"token\");\n    if (req.url.includes(\"/session\")) {\n        if (token != undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/principal\", req.url));\n        }\n    }\n    if (req.url.includes(\"/login\")) {\n        if (token != undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/principal\", req.url));\n        }\n    }\n    if (req.url.includes(\"/principal\")) {\n        if (token === undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", req.url));\n        }\n    }\n    if (req.url.includes(\"/detalle\") || req.url.includes(\"/detalle/nota/<external>\")) {\n        if (token === undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", req.url));\n        }\n    }\n    const protectedRoutes = [\n        \"/principal\",\n        \"/detalle\",\n        \"/producto\"\n    ];\n    // Verificar si la ruta actual requiere token\n    if (protectedRoutes.some((route)=>req.url.includes(route))) {\n        if (token === undefined) {\n            // Si no hay token, redirigir a la página de inicio de sesión\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", req.url));\n        }\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nconst config = {\n    matcher: \"/:path*\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNYO0FBRXpCLGVBQWVFLFdBQVdDLEdBQUc7SUFDaEMsSUFBSUMsUUFBUUQsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFFNUIsSUFBSUgsSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUMsYUFBYTtRQUM5QixJQUFJSixTQUFTSyxXQUFXO1lBQ3BCLE9BQU9ULHFEQUFZQSxDQUFDVSxRQUFRLENBQUMsSUFBSUMsSUFBSSxjQUFjUixJQUFJSSxHQUFHO1FBQzlEO0lBQ0o7SUFFQSxJQUFJSixJQUFJSSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxXQUFXO1FBQzVCLElBQUlKLFNBQVNLLFdBQVc7WUFDcEIsT0FBT1QscURBQVlBLENBQUNVLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLGNBQWNSLElBQUlJLEdBQUc7UUFDOUQ7SUFDSjtJQUVBLElBQUlKLElBQUlJLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDLGVBQWU7UUFDaEMsSUFBSUosVUFBVUssV0FBVztZQUNyQixPQUFPVCxxREFBWUEsQ0FBQ1UsUUFBUSxDQUFDLElBQUlDLElBQUksVUFBVVIsSUFBSUksR0FBRztRQUMxRDtJQUNKO0lBRUEsSUFBSUosSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUMsZUFBZUwsSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUMsNkJBQTZCO1FBQzlFLElBQUlKLFVBQVVLLFdBQVc7WUFDckIsT0FBT1QscURBQVlBLENBQUNVLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLFVBQVVSLElBQUlJLEdBQUc7UUFDMUQ7SUFDSjtJQUVBLE1BQU1LLGtCQUFrQjtRQUNwQjtRQUNBO1FBQ0E7S0FDSDtJQUVELDZDQUE2QztJQUM3QyxJQUFJQSxnQkFBZ0JDLElBQUksQ0FBQ0MsQ0FBQUEsUUFBU1gsSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUNNLFNBQVM7UUFDeEQsSUFBSVYsVUFBVUssV0FBVztZQUNyQiw2REFBNkQ7WUFDN0QsT0FBT1QscURBQVlBLENBQUNVLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLFVBQVVSLElBQUlJLEdBQUc7UUFDMUQ7SUFDSjtJQUVBLE9BQU9QLHFEQUFZQSxDQUFDZSxJQUFJO0FBQzVCO0FBRU8sTUFBTUMsU0FBUztJQUNsQkMsU0FBUztBQUNiLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL21pZGRsZXdhcmUuanM/YTQ5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXEpIHtcbiAgICBsZXQgdG9rZW4gPSByZXEuY29va2llcy5nZXQoXCJ0b2tlblwiKTtcblxuICAgIGlmIChyZXEudXJsLmluY2x1ZGVzKFwiL3Nlc3Npb25cIikpIHtcbiAgICAgICAgaWYgKHRva2VuICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL3ByaW5jaXBhbFwiLCByZXEudXJsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVxLnVybC5pbmNsdWRlcyhcIi9sb2dpblwiKSkge1xuICAgICAgICBpZiAodG9rZW4gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvcHJpbmNpcGFsXCIsIHJlcS51cmwpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXEudXJsLmluY2x1ZGVzKFwiL3ByaW5jaXBhbFwiKSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL2xvZ2luXCIsIHJlcS51cmwpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXEudXJsLmluY2x1ZGVzKFwiL2RldGFsbGVcIikgfHwgcmVxLnVybC5pbmNsdWRlcyhcIi9kZXRhbGxlL25vdGEvPGV4dGVybmFsPlwiKSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL2xvZ2luXCIsIHJlcS51cmwpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb3RlY3RlZFJvdXRlcyA9IFtcbiAgICAgICAgXCIvcHJpbmNpcGFsXCIsXG4gICAgICAgIFwiL2RldGFsbGVcIixcbiAgICAgICAgXCIvcHJvZHVjdG9cIixcbiAgICBdO1xuXG4gICAgLy8gVmVyaWZpY2FyIHNpIGxhIHJ1dGEgYWN0dWFsIHJlcXVpZXJlIHRva2VuXG4gICAgaWYgKHByb3RlY3RlZFJvdXRlcy5zb21lKHJvdXRlID0+IHJlcS51cmwuaW5jbHVkZXMocm91dGUpKSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gU2kgbm8gaGF5IHRva2VuLCByZWRpcmlnaXIgYSBsYSBww6FnaW5hIGRlIGluaWNpbyBkZSBzZXNpw7NuXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvbG9naW5cIiwgcmVxLnVybCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gICAgbWF0Y2hlcjogJy86cGF0aConLFxufTtcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJDb29raWVzIiwibWlkZGxld2FyZSIsInJlcSIsInRva2VuIiwiY29va2llcyIsImdldCIsInVybCIsImluY2x1ZGVzIiwidW5kZWZpbmVkIiwicmVkaXJlY3QiLCJVUkwiLCJwcm90ZWN0ZWRSb3V0ZXMiLCJzb21lIiwicm91dGUiLCJuZXh0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.js\n");

/***/ })

});