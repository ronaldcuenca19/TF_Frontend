"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.js":
/*!***************************!*\
  !*** ./src/middleware.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-cookie */ \"(middleware)/./node_modules/js-cookie/dist/js.cookie.mjs\");\n\n\nasync function middleware(req) {\n    let token = req.cookies.get(\"token\");\n    if (req.url.includes(\"/session\")) {\n        if (token != undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/principal\", req.url));\n        }\n    }\n    if (req.url.includes(\"/login\")) {\n        if (token != undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/principal\", req.url));\n        }\n    }\n    if (req.url.includes(\"/principal\")) {\n        if (token === undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", req.url));\n        }\n    }\n    if (req.url.includes(\"/detalle\") || req.url.includes(\"/detalle/nota/<external>\")) {\n        if (token === undefined) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", req.url));\n        }\n    }\n    const protectedRoutes = [\n        \"/principal\",\n        \"/producto/registrar\",\n        \"/producto\",\n        \"/lote\",\n        \"/lote/registrar\",\n        \"/usuario\",\n        \"/usuario/registrar\",\n        \"/facturacion\"\n    ];\n    // Verificar si la ruta actual requiere token\n    if (protectedRoutes.some((route)=>req.url.includes(route))) {\n        if (token === undefined) {\n            // Si no hay token, redirigir a la página de inicio de sesión\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", req.url));\n        }\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nconst config = {\n    matcher: \"/:path*\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNYO0FBRXpCLGVBQWVFLFdBQVdDLEdBQUc7SUFDaEMsSUFBSUMsUUFBUUQsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFFNUIsSUFBSUgsSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUMsYUFBYTtRQUM5QixJQUFJSixTQUFTSyxXQUFXO1lBQ3BCLE9BQU9ULHFEQUFZQSxDQUFDVSxRQUFRLENBQUMsSUFBSUMsSUFBSSxjQUFjUixJQUFJSSxHQUFHO1FBQzlEO0lBQ0o7SUFFQSxJQUFJSixJQUFJSSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxXQUFXO1FBQzVCLElBQUlKLFNBQVNLLFdBQVc7WUFDcEIsT0FBT1QscURBQVlBLENBQUNVLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLGNBQWNSLElBQUlJLEdBQUc7UUFDOUQ7SUFDSjtJQUVBLElBQUlKLElBQUlJLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDLGVBQWU7UUFDaEMsSUFBSUosVUFBVUssV0FBVztZQUNyQixPQUFPVCxxREFBWUEsQ0FBQ1UsUUFBUSxDQUFDLElBQUlDLElBQUksVUFBVVIsSUFBSUksR0FBRztRQUMxRDtJQUNKO0lBRUEsSUFBSUosSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUMsZUFBZUwsSUFBSUksR0FBRyxDQUFDQyxRQUFRLENBQUMsNkJBQTZCO1FBQzlFLElBQUlKLFVBQVVLLFdBQVc7WUFDckIsT0FBT1QscURBQVlBLENBQUNVLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLFVBQVVSLElBQUlJLEdBQUc7UUFDMUQ7SUFDSjtJQUVBLE1BQU1LLGtCQUFrQjtRQUNwQjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFFRCw2Q0FBNkM7SUFDN0MsSUFBSUEsZ0JBQWdCQyxJQUFJLENBQUNDLENBQUFBLFFBQVNYLElBQUlJLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDTSxTQUFTO1FBQ3hELElBQUlWLFVBQVVLLFdBQVc7WUFDckIsNkRBQTZEO1lBQzdELE9BQU9ULHFEQUFZQSxDQUFDVSxRQUFRLENBQUMsSUFBSUMsSUFBSSxVQUFVUixJQUFJSSxHQUFHO1FBQzFEO0lBQ0o7SUFFQSxPQUFPUCxxREFBWUEsQ0FBQ2UsSUFBSTtBQUM1QjtBQUVPLE1BQU1DLFNBQVM7SUFDbEJDLFNBQVM7QUFDYixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9taWRkbGV3YXJlLmpzP2E0OWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxKSB7XG4gICAgbGV0IHRva2VuID0gcmVxLmNvb2tpZXMuZ2V0KFwidG9rZW5cIik7XG5cbiAgICBpZiAocmVxLnVybC5pbmNsdWRlcyhcIi9zZXNzaW9uXCIpKSB7XG4gICAgICAgIGlmICh0b2tlbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9wcmluY2lwYWxcIiwgcmVxLnVybCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcS51cmwuaW5jbHVkZXMoXCIvbG9naW5cIikpIHtcbiAgICAgICAgaWYgKHRva2VuICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL3ByaW5jaXBhbFwiLCByZXEudXJsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVxLnVybC5pbmNsdWRlcyhcIi9wcmluY2lwYWxcIikpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9sb2dpblwiLCByZXEudXJsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVxLnVybC5pbmNsdWRlcyhcIi9kZXRhbGxlXCIpIHx8IHJlcS51cmwuaW5jbHVkZXMoXCIvZGV0YWxsZS9ub3RhLzxleHRlcm5hbD5cIikpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9sb2dpblwiLCByZXEudXJsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90ZWN0ZWRSb3V0ZXMgPSBbXG4gICAgICAgIFwiL3ByaW5jaXBhbFwiLFxuICAgICAgICBcIi9wcm9kdWN0by9yZWdpc3RyYXJcIixcbiAgICAgICAgXCIvcHJvZHVjdG9cIixcbiAgICAgICAgXCIvbG90ZVwiLFxuICAgICAgICBcIi9sb3RlL3JlZ2lzdHJhclwiLFxuICAgICAgICBcIi91c3VhcmlvXCIsXG4gICAgICAgIFwiL3VzdWFyaW8vcmVnaXN0cmFyXCIsXG4gICAgICAgIFwiL2ZhY3R1cmFjaW9uXCJcbiAgICBdO1xuXG4gICAgLy8gVmVyaWZpY2FyIHNpIGxhIHJ1dGEgYWN0dWFsIHJlcXVpZXJlIHRva2VuXG4gICAgaWYgKHByb3RlY3RlZFJvdXRlcy5zb21lKHJvdXRlID0+IHJlcS51cmwuaW5jbHVkZXMocm91dGUpKSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gU2kgbm8gaGF5IHRva2VuLCByZWRpcmlnaXIgYSBsYSBww6FnaW5hIGRlIGluaWNpbyBkZSBzZXNpw7NuXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvbG9naW5cIiwgcmVxLnVybCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gICAgbWF0Y2hlcjogJy86cGF0aConLFxufTtcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJDb29raWVzIiwibWlkZGxld2FyZSIsInJlcSIsInRva2VuIiwiY29va2llcyIsImdldCIsInVybCIsImluY2x1ZGVzIiwidW5kZWZpbmVkIiwicmVkaXJlY3QiLCJVUkwiLCJwcm90ZWN0ZWRSb3V0ZXMiLCJzb21lIiwicm91dGUiLCJuZXh0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.js\n");

/***/ })

});